'use strict';

module.exports = function (configuration) {
	var lines = Object.entries(configuration.description).map(function (entry) {
		var name = entry[0];
		var desc = entry[1];
		var alias = Object.entries(configuration.alias).find(function (entry) {
			return entry[1] === name;
		}).map(function (entry) {
			return entry[0];
		})[0];
		var defaults = configuration.default[name];
		return [[name, alias].filter(Boolean), desc, defaults].filter(Boolean);
	});

	var longest = lines.map(function (line) {
		var flags = line[0];
		return flags.reduce(function (sum, flag) {
			return sum + flag.length;
		}, 0);
	}).sort(Number)[0];

	return lines.map(function (line) {
		var flags = line[0];
		var desc = line[1];
		var defaults = line[2];
		var fs = flags.map(function (flag) {
			return flag.length > 1 ? `--${flag}` : ` -${flag}`;
		});
		var ds = defaults ? `, defaults to: ${defaults}` : '';
		var length = flags.reduce(function (sum, flag) {
			return sum + flag.length;
		}, 0);
		return `${fs.join(',')}${' '.repeat(4 + longest - length)}${desc}${ds}`;
	}).join('\n');
};
//# sourceMappingURL=help.js.map